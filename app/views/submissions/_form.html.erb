<%= form_for(@submission, html: { multipart: true }) do |f| %>
  <% if @submission.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@submission.errors.count, "error") %> prohibited this submission from being saved:</h2>
      <ul>
        <% @submission.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <!-- 제목 -->
  <div class="field">
    <%= f.label :title, "제목" %><br />
    <%= f.text_field :title %>
  </div>

  <!-- 내용 -->
  <div class="field">
    <%= f.label :content, "내용" %><br />
    <%= f.text_area :content %>
  </div>

  <!-- 이미지 업로드 필드 -->
  <div class="field">
    <%= f.label :image, "이미지 업로드" %><br />
    <%= f.file_field :image, id: "submission_image" %>
  </div>

  <!-- 이미지 미리보기 영역 -->
  <div id="image-preview-container" style="margin-top: 10px;">
    <% if @submission.image.attached? %>
      <%= image_tag url_for(@submission.image), id: "image-preview", style: "max-width: 300px; border: 1px solid #ccc; padding: 5px;" %>
    <% else %>
      <img id="image-preview" src="#" alt="이미지 미리보기" style="display: none; max-width: 300px; border: 1px solid #ccc; padding: 5px;" />
    <% end %>
  </div>

  <div class="actions">
    <%= f.submit "투고하기" %>
  </div>
<% end %>
